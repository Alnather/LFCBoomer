{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 30, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hani/ForesterSwap/components/Navbar.jsx"],"sourcesContent":["import Link from \"next/link\";\r\nimport { useRouter } from \"next/router\";\r\nimport { signOut } from \"firebase/auth\";\r\nimport { auth } from \"@/lib/firebase\";\r\n\r\nexport default function Navbar({ user }) {\r\n  const router = useRouter();\r\n\r\n  async function handleLogout() {\r\n    try {\r\n      await signOut(auth);\r\n      router.push(\"/login\");\r\n    } catch (error) {\r\n      console.error(\"Logout error:\", error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <nav className=\"bg-white shadow-md sticky top-0 z-50\">\r\n      <div className=\"container-custom\">\r\n        <div className=\"flex items-center justify-between h-16\">\r\n          {/* Logo */}\r\n          <Link href=\"/\" className=\"flex items-center space-x-2\">\r\n            <div className=\"text-2xl font-bold gradient-text\">\r\n              ðŸŒ² ForesterSwap\r\n            </div>\r\n          </Link>\r\n\r\n          {/* Navigation Links */}\r\n          <div className=\"hidden md:flex items-center space-x-8\">\r\n            <Link href=\"/\" className=\"text-gray-700 hover:text-primary-600 font-medium transition\">\r\n              Home\r\n            </Link>\r\n            <Link href=\"/listings\" className=\"text-gray-700 hover:text-primary-600 font-medium transition\">\r\n              Listings\r\n            </Link>\r\n            {user && (\r\n              <Link href=\"/my-products\" className=\"text-gray-700 hover:text-primary-600 font-medium transition\">\r\n                My Products\r\n              </Link>\r\n            )}\r\n          </div>\r\n\r\n          {/* User Section */}\r\n          <div className=\"flex items-center space-x-4\">\r\n            {user ? (\r\n              <>\r\n                <div className=\"hidden md:flex items-center space-x-2 text-gray-700\">\r\n                  <span className=\"font-medium\">\r\n                    {user.displayName || user.email}\r\n                  </span>\r\n                </div>\r\n                <button\r\n                  onClick={handleLogout}\r\n                  className=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition font-medium\"\r\n                >\r\n                  Logout\r\n                </button>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <Link\r\n                  href=\"/login\"\r\n                  className=\"px-4 py-2 text-gray-700 hover:text-primary-600 font-medium transition\"\r\n                >\r\n                  Login\r\n                </Link>\r\n                <Link\r\n                  href=\"/signup\"\r\n                  className=\"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition font-medium\"\r\n                >\r\n                  Sign Up\r\n                </Link>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </nav>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;;AAEe,SAAS,OAAO,EAAE,IAAI,EAAE;IACrC,MAAM,SAAS,IAAA,oIAAS;IAExB,eAAe;QACb,IAAI;YACF,MAAM,IAAA,2IAAO,EAAC,gHAAI;YAClB,OAAO,IAAI,CAAC;QACd,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,iBAAiB;QACjC;IACF;IAEA,qBACE,qKAAC;QAAI,WAAU;kBACb,cAAA,qKAAC;YAAI,WAAU;sBACb,cAAA,qKAAC;gBAAI,WAAU;;kCAEb,qKAAC,gIAAI;wBAAC,MAAK;wBAAI,WAAU;kCACvB,cAAA,qKAAC;4BAAI,WAAU;sCAAmC;;;;;;;;;;;kCAMpD,qKAAC;wBAAI,WAAU;;0CACb,qKAAC,gIAAI;gCAAC,MAAK;gCAAI,WAAU;0CAA8D;;;;;;0CAGvF,qKAAC,gIAAI;gCAAC,MAAK;gCAAY,WAAU;0CAA8D;;;;;;4BAG9F,sBACC,qKAAC,gIAAI;gCAAC,MAAK;gCAAe,WAAU;0CAA8D;;;;;;;;;;;;kCAOtG,qKAAC;wBAAI,WAAU;kCACZ,qBACC;;8CACE,qKAAC;oCAAI,WAAU;8CACb,cAAA,qKAAC;wCAAK,WAAU;kDACb,KAAK,WAAW,IAAI,KAAK,KAAK;;;;;;;;;;;8CAGnC,qKAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;yDAKH;;8CACE,qKAAC,gIAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;8CAGD,qKAAC,gIAAI;oCACH,MAAK;oCACL,WAAU;8CACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUjB"}},
    {"offset": {"line": 208, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hani/ForesterSwap/pages/create-listing.jsx"],"sourcesContent":["import { useState } from \"react\";\r\nimport { useRouter } from \"next/router\";\r\nimport Navbar from \"@/components/Navbar\";\r\nimport { collection, addDoc, doc, updateDoc, arrayUnion } from \"firebase/firestore\";\r\nimport { ref, uploadBytes, getDownloadURL } from \"firebase/storage\";\r\nimport { db } from \"@/lib/firebase\";\r\n\r\nexport default function CreateListing({ user, loading }) {\r\n  const [name, setName] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [categories, setCategories] = useState([]);\r\n  const [image, setImage] = useState(null);\r\n  const [imagePreview, setImagePreview] = useState(null);\r\n  const [error, setError] = useState(\"\");\r\n  const [submitting, setSubmitting] = useState(false);\r\n  const router = useRouter();\r\n\r\n  const categoryOptions = [\r\n    { id: \"sports\", label: \"Sports\" },\r\n    { id: \"electronics\", label: \"Electronics\" },\r\n    { id: \"clothing\", label: \"Clothing\" },\r\n    { id: \"furniture\", label: \"Furniture\" },\r\n    { id: \"books\", label: \"Books\" },\r\n    { id: \"toys\", label: \"Toys & Games\" },\r\n    { id: \"home\", label: \"Home & Garden\" },\r\n    { id: \"other\", label: \"Other\" },\r\n  ];\r\n\r\n  function handleCategoryChange(categoryId) {\r\n    setCategories((prev) =>\r\n      prev.includes(categoryId)\r\n        ? prev.filter((c) => c !== categoryId)\r\n        : [...prev, categoryId]\r\n    );\r\n  }\r\n\r\n  function handleImageChange(e) {\r\n    const file = e.target.files[0];\r\n    if (file) {\r\n      setImage(file);\r\n      const reader = new FileReader();\r\n      reader.onloadend = () => {\r\n        setImagePreview(reader.result);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  }\r\n\r\n  async function handleSubmit(e) {\r\n    e.preventDefault();\r\n    setError(\"\");\r\n\r\n    // Validation\r\n    if (!user) {\r\n      setError(\"You must be logged in to create a listing\");\r\n      return;\r\n    }\r\n\r\n    if (categories.length === 0) {\r\n      setError(\"Please select at least one category\");\r\n      return;\r\n    }\r\n\r\n    setSubmitting(true);\r\n\r\n    try {\r\n      // Create the listing document\r\n      const listingData = {\r\n        name,\r\n        description,\r\n        categories,\r\n        userId: user.uid,\r\n        userName: user.displayName || \"Anonymous\",\r\n        createdAt: new Date().toISOString(),\r\n        imageUrl: imagePreview || \"\", // Will be updated if image is uploaded\r\n      };\r\n\r\n      const docRef = await addDoc(collection(db, \"products\"), listingData);\r\n\r\n      // Add product reference to user's products array\r\n      await updateDoc(doc(db, \"Users\", user.uid), {\r\n        products: arrayUnion(docRef.id),\r\n      });\r\n\r\n      // Redirect to listings page\r\n      router.push(\"/listings\");\r\n    } catch (err) {\r\n      console.error(\"Error creating listing:\", err);\r\n      setError(err.message || \"Failed to create listing\");\r\n      setSubmitting(false);\r\n    }\r\n  }\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50\">\r\n        <Navbar user={user} />\r\n        <div className=\"container-custom py-20 text-center\">\r\n          <p className=\"text-gray-600\">Loading...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (!user) {\r\n    return (\r\n      <div className=\"min-h-screen bg-gray-50\">\r\n        <Navbar user={user} />\r\n        <div className=\"container-custom py-20 text-center\">\r\n          <h1 className=\"text-3xl font-bold text-gray-900 mb-4\">\r\n            Please Log In\r\n          </h1>\r\n          <p className=\"text-gray-600 mb-8\">\r\n            You need to be logged in to create a listing\r\n          </p>\r\n          <a href=\"/login\" className=\"btn-primary inline-block\">\r\n            Log In\r\n          </a>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gray-50\">\r\n      <Navbar user={user} />\r\n\r\n      <div className=\"container-custom py-12\">\r\n        <div className=\"max-w-3xl mx-auto\">\r\n          <div className=\"bg-white rounded-2xl shadow-lg p-8\">\r\n            <h1 className=\"text-3xl font-bold text-gray-900 mb-2\">\r\n              Create New Listing\r\n            </h1>\r\n            <p className=\"text-gray-600 mb-8\">\r\n              Share an item you'd like to swap or trade\r\n            </p>\r\n\r\n            <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n              {error && (\r\n                <div className=\"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm\">\r\n                  {error}\r\n                </div>\r\n              )}\r\n\r\n              {/* Name */}\r\n              <div>\r\n                <label\r\n                  htmlFor=\"name\"\r\n                  className=\"block text-sm font-medium text-gray-700 mb-2\"\r\n                >\r\n                  Item Name *\r\n                </label>\r\n                <input\r\n                  id=\"name\"\r\n                  type=\"text\"\r\n                  required\r\n                  value={name}\r\n                  onChange={(e) => setName(e.target.value)}\r\n                  className=\"input-field\"\r\n                  placeholder=\"e.g., Vintage Camera, Soccer Ball, Textbook\"\r\n                />\r\n              </div>\r\n\r\n              {/* Description */}\r\n              <div>\r\n                <label\r\n                  htmlFor=\"description\"\r\n                  className=\"block text-sm font-medium text-gray-700 mb-2\"\r\n                >\r\n                  Description *\r\n                </label>\r\n                <textarea\r\n                  id=\"description\"\r\n                  required\r\n                  value={description}\r\n                  onChange={(e) => setDescription(e.target.value)}\r\n                  className=\"input-field\"\r\n                  rows=\"4\"\r\n                  placeholder=\"Describe your item, its condition, and what you're looking to swap for...\"\r\n                />\r\n              </div>\r\n\r\n              {/* Image Upload */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                  Photo (Optional)\r\n                </label>\r\n                <div className=\"flex items-center space-x-4\">\r\n                  <label className=\"cursor-pointer\">\r\n                    <input\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      onChange={handleImageChange}\r\n                      className=\"hidden\"\r\n                    />\r\n                    <span className=\"btn-secondary inline-block\">\r\n                      Choose Image\r\n                    </span>\r\n                  </label>\r\n                  {imagePreview && (\r\n                    <div className=\"relative\">\r\n                      <img\r\n                        src={imagePreview}\r\n                        alt=\"Preview\"\r\n                        className=\"w-24 h-24 object-cover rounded-lg\"\r\n                      />\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => {\r\n                          setImage(null);\r\n                          setImagePreview(null);\r\n                        }}\r\n                        className=\"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-xs\"\r\n                      >\r\n                        âœ•\r\n                      </button>\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Categories */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-3\">\r\n                  Categories * (Select at least one)\r\n                </label>\r\n                <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3\">\r\n                  {categoryOptions.map((category) => (\r\n                    <label\r\n                      key={category.id}\r\n                      className={`flex items-center space-x-2 p-3 border rounded-lg cursor-pointer transition ${\r\n                        categories.includes(category.id)\r\n                          ? \"border-primary-600 bg-primary-50\"\r\n                          : \"border-gray-300 hover:border-primary-300\"\r\n                      }`}\r\n                    >\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={categories.includes(category.id)}\r\n                        onChange={() => handleCategoryChange(category.id)}\r\n                        className=\"w-4 h-4 text-primary-600 rounded focus:ring-primary-500\"\r\n                      />\r\n                      <span className=\"text-sm font-medium text-gray-700\">\r\n                        {category.label}\r\n                      </span>\r\n                    </label>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Submit Button */}\r\n              <div className=\"flex gap-4 pt-4\">\r\n                <button\r\n                  type=\"submit\"\r\n                  disabled={submitting}\r\n                  className=\"btn-primary flex-1\"\r\n                >\r\n                  {submitting ? \"Creating Listing...\" : \"Create Listing\"}\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => router.push(\"/listings\")}\r\n                  className=\"btn-secondary\"\r\n                  disabled={submitting}\r\n                >\r\n                  Cancel\r\n                </button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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"}}]
}