{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 58, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hani/ForesterSwap/lib/firebase.js"],"sourcesContent":["import { initializeApp, getApps } from \"firebase/app\";\r\nimport { getAuth } from \"firebase/auth\";\r\nimport { getFirestore } from \"firebase/firestore\";\r\nimport { getStorage } from \"firebase/storage\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyDiNCO2trc8GFQouKD9B2peUM3Gg5InBhI\",\r\n  authDomain: \"forester-swap.firebaseapp.com\",\r\n  databaseURL: \"https://forester-swap-default-rtdb.firebaseio.com\",\r\n  projectId: \"forester-swap\",\r\n  storageBucket: \"forester-swap.firebasestorage.app\",\r\n  messagingSenderId: \"386036888086\",\r\n  appId: \"1:386036888086:web:db1e00c63ad4457c70bb37\",\r\n  measurementId: \"G-XGCCTCXV21\"\r\n};\r\n// where do i get the config values? from firebase console -> project settings -> general -> your apps -> firebase sdk snippet -> config\r\n\r\nconst app = !getApps().length ? initializeApp(firebaseConfig) : getApps()[0];\r\n\r\nexport const auth = getAuth(app);\r\nexport const db = getFirestore(app);\r\nexport const storage = getStorage(app);\r\nexport default app;\r\n"],"names":[],"mappings":";;;;;;;;;;AAAA;AACA;AACA;AACA;;;;;;;;;;;;AAEA,MAAM,iBAAiB;IACrB,QAAQ;IACR,YAAY;IACZ,aAAa;IACb,WAAW;IACX,eAAe;IACf,mBAAmB;IACnB,OAAO;IACP,eAAe;AACjB;AACA,wIAAwI;AAExI,MAAM,MAAM,CAAC,IAAA,yIAAO,IAAG,MAAM,GAAG,IAAA,+IAAa,EAAC,kBAAkB,IAAA,yIAAO,GAAE,CAAC,EAAE;AAErE,MAAM,OAAO,IAAA,2IAAO,EAAC;AACrB,MAAM,KAAK,IAAA,0JAAY,EAAC;AACxB,MAAM,UAAU,IAAA,oJAAU,EAAC;uCACnB"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Hani/ForesterSwap/pages/api/auth/signup.js"],"sourcesContent":["import { auth, db } from \"@/lib/firebase\";\r\nimport { createUserWithEmailAndPassword, updateProfile } from \"firebase/auth\";\r\nimport { doc, setDoc, Timestamp } from \"firebase/firestore\";\r\n\r\nexport default async function handler(req, res) {\r\n  if (req.method !== \"POST\") return res.status(405).end();\r\n\r\n  const { email, password, name } = req.body;\r\n\r\n  console.log('=== SIGNUP REQUEST ===');\r\n  console.log('Email:', email);\r\n  console.log('Name:', name);\r\n\r\n  // Split name into first and last name\r\n  const nameParts = name?.trim().split(\" \") || [];\r\n  const firstName = nameParts[0] || \"\";\r\n  const lastName = nameParts.slice(1).join(\" \") || \"\";\r\n\r\n  console.log('Parsed name - First:', firstName, 'Last:', lastName);\r\n\r\n  try {\r\n    // Create the user in Firebase Auth\r\n    console.log('Creating user in Firebase Auth...');\r\n    const userCred = await createUserWithEmailAndPassword(auth, email, password);\r\n    console.log('✓ User created in Auth with UID:', userCred.user.uid);\r\n    \r\n    await updateProfile(userCred.user, { displayName: name });\r\n    console.log('✓ User display name updated');\r\n\r\n    // Create user document in Firestore\r\n    console.log('Creating user document in Firestore users collection...');\r\n    const userData = {\r\n      name: name,\r\n      firstName: firstName,\r\n      lastName: lastName,\r\n      email: email,\r\n      createdAt: Timestamp.now(),\r\n      products: [],\r\n    };\r\n    console.log('User data to save:', userData);\r\n    \r\n    await setDoc(doc(db, \"users\", userCred.user.uid), userData);\r\n    console.log('✓ User document created successfully in users collection');\r\n\r\n    return res.status(200).json({ \r\n      uid: userCred.user.uid,\r\n      firstName,\r\n      lastName \r\n    });\r\n  } catch (err) {\r\n    console.error('✗ SIGNUP ERROR:', err.code, err.message);\r\n    console.error('Full error:', err);\r\n    return res.status(400).json({ error: err.message, code: err.code });\r\n  }\r\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;;;;;;;AAEe,eAAe,QAAQ,GAAG,EAAE,GAAG;IAC5C,IAAI,IAAI,MAAM,KAAK,QAAQ,OAAO,IAAI,MAAM,CAAC,KAAK,GAAG;IAErD,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,IAAI,EAAE,GAAG,IAAI,IAAI;IAE1C,QAAQ,GAAG,CAAC;IACZ,QAAQ,GAAG,CAAC,UAAU;IACtB,QAAQ,GAAG,CAAC,SAAS;IAErB,sCAAsC;IACtC,MAAM,YAAY,MAAM,OAAO,MAAM,QAAQ,EAAE;IAC/C,MAAM,YAAY,SAAS,CAAC,EAAE,IAAI;IAClC,MAAM,WAAW,UAAU,KAAK,CAAC,GAAG,IAAI,CAAC,QAAQ;IAEjD,QAAQ,GAAG,CAAC,wBAAwB,WAAW,SAAS;IAExD,IAAI;QACF,mCAAmC;QACnC,QAAQ,GAAG,CAAC;QACZ,MAAM,WAAW,MAAM,IAAA,kKAA8B,EAAC,gHAAI,EAAE,OAAO;QACnE,QAAQ,GAAG,CAAC,oCAAoC,SAAS,IAAI,CAAC,GAAG;QAEjE,MAAM,IAAA,iJAAa,EAAC,SAAS,IAAI,EAAE;YAAE,aAAa;QAAK;QACvD,QAAQ,GAAG,CAAC;QAEZ,oCAAoC;QACpC,QAAQ,GAAG,CAAC;QACZ,MAAM,WAAW;YACf,MAAM;YACN,WAAW;YACX,UAAU;YACV,OAAO;YACP,WAAW,uJAAS,CAAC,GAAG;YACxB,UAAU,EAAE;QACd;QACA,QAAQ,GAAG,CAAC,sBAAsB;QAElC,MAAM,IAAA,oJAAM,EAAC,IAAA,iJAAG,EAAC,8GAAE,EAAE,SAAS,SAAS,IAAI,CAAC,GAAG,GAAG;QAClD,QAAQ,GAAG,CAAC;QAEZ,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAC1B,KAAK,SAAS,IAAI,CAAC,GAAG;YACtB;YACA;QACF;IACF,EAAE,OAAO,KAAK;QACZ,QAAQ,KAAK,CAAC,mBAAmB,IAAI,IAAI,EAAE,IAAI,OAAO;QACtD,QAAQ,KAAK,CAAC,eAAe;QAC7B,OAAO,IAAI,MAAM,CAAC,KAAK,IAAI,CAAC;YAAE,OAAO,IAAI,OAAO;YAAE,MAAM,IAAI,IAAI;QAAC;IACnE;AACF"}}]
}